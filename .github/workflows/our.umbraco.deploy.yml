name: Publish Font Awesome Icon Pack to Our.Umbraco Package Repository

env:
  PKG_VERSION: 5.13.${{ github.run_number }}
  
on:
  release:
    types: [published]
 
jobs:
  deploy:
 
    runs-on: windows-latest
 
    steps:
    - uses: actions/checkout@v1
      name: Checkout Code
          
    - name: Setup .NET Core
      uses: actions/setup-dotnet@v1
     
    - name: Install UmbPack
      run: dotnet tool install --global Umbraco.Tools.Packages
 
    - name: Create the Umbraco Package
      run: umbpack pack package.xml -v ${{ env.PKG_VERSION }}
      
    - name: Upload Artifact
      uses: actions/upload-artifact@v1.0.0
      with:
        name: FontAwesomeIconPack
        path: Font_Awesome_Icon_Pack_${{ env.PKG_VERSION }}.zip
